# Event window widget to rename a child (intended to be used at birth)
# Required controller: name_character

vbox = {
	name = "POD_event_window_widget_enter_gargoyle_name"
	layoutpolicy_horizontal = expanding
	minimumsize = { 240 -1 }
	ignoreinvisible = yes
	margin = { 5 0 }
	margin_bottom = 5
	spacing = 3

	datacontext = "[EventWindowWidgetNameCharacter.GetCharacter]"

	editbox_standard = {
		size = { 240 30 }
	
		blockoverride "editbox_properties" 
		{
		    name = "no_name_needed"
		    text = "[EventWindowWidgetNameCharacter.GetCurrentName]"
			ontextedited = "[EventWindowWidgetNameCharacter.OnEditCurrentName]"
			
			state = {
				name = "name_refresh"
				next = "b"
				using = Animation_Refresh_FadeOut
			}

			state = {
				name = "b"
				using = Animation_Refresh_FadeIn
			}
		}
	}


	hbox = {
	
		event_button_round = {
			visible = "[Character.GetFaith.HasReservedNames( Character.IsFemale )]"
			onclick = "[EventWindowWidgetNameCharacter.SetCurrentNameCultural( EventWindowWidgetNameCharacter.GetRandomAvailableFaithName )]"
			onclick = "[PdxGuiTriggerAllAnimations('name_refresh')]"
			tooltip =  "event_window_widget_name_child_random_faith_name"
			using = tooltip_se
	
			highlight_icon = {
				datacontext = "[Character.GetFaith]"
				#datacontext = "viaservilis"
				texture = "[Faith.GetIcon]"
				parentanchor = center
				size = { 35 35 }
			}
		}
	
		event_button_round = {
			onclick = "[EventWindowWidgetNameCharacter.SetCurrentName( EventWindowWidgetNameCharacter.GetRandomAvailableCultureName )]"
			onclick = "[PdxGuiTriggerAllAnimations('name_refresh')]"
			tooltip =  "event_window_widget_name_child_random_cultural_name"
			using = tooltip_se
	
			highlight_icon = {
				name = "culture"
				texture = "gfx/interface/icons/icon_culture.dds"
				size = { 35 35 }
				parentanchor = center
			}
		}
		
	}
}
