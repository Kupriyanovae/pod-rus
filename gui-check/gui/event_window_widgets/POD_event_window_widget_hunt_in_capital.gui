
vbox = {
	name = "POD_event_window_widget_hunt_in_capital"
	layoutpolicy_horizontal = expanding

	state = {
		name = init
		trigger_on_create = yes
		# Set coterie status
		#on_start = "[PlayerGuiExecute('POD_set_coterie_status_sgui')]"
		# Generic ending SGUI
		on_start = "[PlayerGuiExecute('POD_journey_on_end')]"
	}
	
	# hunt_in_capital Event Widget
	vbox = {
		#margin_left = 64
		#margin_right = 64
		margin_bottom = 24
		layoutpolicy_horizontal = expanding
		
		hbox = {
			datamodel = "[GetPlayer.MakeScope.GetList('hunt_in_capital_mortals')]"
			
			item = {
				vbox = {
					layoutpolicy_vertical = expanding
					#spacing = 6
					
					hbox = {
						#layoutpolicy_horizontal = expanding
						visible = "[Or( GetScriptedGui('scry_the_soul_sgui').IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End), GetScriptedGui('is_ventrue_clan_curse_applicable_gui').IsShown(GuiScope.SetRoot(Scope.Char).AddScope('actor',GetPlayer.MakeScope).End) )]"
						size = { 0 20 }
						spacing = 4
						
						pod_resonance_display = {
							datacontext = "[Scope.Char]"
						}
						
						pod_ventrue_warning_display = {
							datacontext = "[Scope.Char]"
						}
					}
					
					widget = {
						visible = "[Or( GetScriptedGui('scry_the_soul_sgui').IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).End), GetScriptedGui('is_ventrue_clan_curse_applicable_gui').IsShown(GuiScope.SetRoot(Scope.Char).AddScope('actor',GetPlayer.MakeScope).End) )]"
						size = { 0 6 }
					}
					
					portrait_head_small = {
						datacontext = "[Scope.Char]"
						
						blockoverride "opinion_box" {
							visible = no
						}
						
						blockoverride "status_icons" {
							visible = no
						}
					}
					
					widget = {
						size = { 0 6 }
					}
					
					button_radio = {
						size = { 30 30 }
						onclick = "[GetScriptedGui('POD_hunt_in_capital_event_widget').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('selection',Scope.Char.MakeScope).End)]"
						frame   = "[BoolTo1And2( ObjectsEqual( Scope.Char, GetPlayer.MakeScope.Var('hunt_in_capital_selected_mortal').Char ) )]"
					}
				}
			}
		}
	}
	
	# Fake event button (hunt_in_capital)
	vbox = {
		layoutpolicy_horizontal = expanding
		margin_bottom = 1
		
		datamodel = "[EventWindow.AccessEventWindowData.GetOptions]"
		
		item = {
			pod_fake_event_button = {
				name = "hunt_in_capital_fake_confirm_button"
				layoutpolicy_horizontal = expanding
				visible = "[Not( EqualTo_string( EventOption.GetText, Localize('hunt_in_capital_planning_restart') ) )]"
				
				onclick = "[PlayerGuiExecute('hunt_in_capital_confirm')]"
				onclick = "[EventOption.Select]"
				
				blockoverride "button_text" {
					text = "[Localize('hunt_in_capital_planning_confirm_gui')]"
				}
				blockoverride "button_tooltip" {
					tooltip = "hunt_in_capital_planning_confirm_gui_tt"
				}
			}
		}
	}
	
}