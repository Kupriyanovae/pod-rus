
vbox = {
	name = "POD_event_window_widget_learn_true_names"
	layoutpolicy_horizontal = expanding

	spacing = 12
	margin = { 24 12 }
	
	hbox = {
		visible = "[Not(EventWindowWidget.GetScope.sC('cant_select_multiple_traits').IsValid)]"
		layoutpolicy_horizontal = expanding

		expand = {}

		button_standard = {
			text = "POD_true_name_widget_select_all"
			onclick = "[PlayerGuiExecute('true_name_trait_select_all')]"
		}

		expand = {}
	}
	
	scrollbox = {
		layoutpolicy_horizontal = expanding
		size = { 0 210 }

		blockoverride "scrollbox_background" {}
		blockoverride "scrollbox_background_fade" {}
		blockoverride "scrollbox_content"
		{
			dynamicgridbox = {
				datamodel = "[GetPlayer.MakeScope.GetList('potential_traits')]"
				datamodel_wrap = 6
				flipdirection = yes

				item = {
					pod_true_name_trait_item = {}
				}
			}
		}
	}
}

types PODTrueNameWidgetTypes
{
	type pod_true_name_trait_item = widget
	{
		size = { 66 66 }
		
		datacontext = "[EventWindowWidget.GetScope.sC('recipient')]"
		datacontext = "[EventWindowWidget.GetScope.sC('recipient').GetFaith]"
		datacontext = "[Scope.Trait]"

		using = tooltip_se

		tooltipwidget = {
			using = character_trait_tooltip
		}
		
		button_standard = {
			visible = "[Not(EventWindowWidget.GetScope.sC('cant_select_multiple_traits').IsValid)]"

			size = { 60 60 }
			parentanchor = center

			onclick = "[GetScriptedGui('true_name_trait_selection').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('trait',Scope.Trait.MakeScope).End)]"
			down = "[GetScriptedGui('true_name_trait_selection').IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('trait',Scope.Trait.MakeScope).End)]"
	
			trait_icon_texture = {
				parentanchor = center
				alwaystransparent = yes
			}
		}
		
		button_standard = {
			visible = "[EventWindowWidget.GetScope.sC('cant_select_multiple_traits').IsValid]"

			size = { 60 60 }
			parentanchor = center

			onclick = "[GetScriptedGui('true_name_trait_selection_exclusive').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('trait',Scope.Trait.MakeScope).End)]"
			down = "[GetScriptedGui('true_name_trait_selection_exclusive').IsShown(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('trait',Scope.Trait.MakeScope).End)]"
	
			trait_icon_texture = {
				parentanchor = center
				alwaystransparent = yes
			}
		}
	}
}